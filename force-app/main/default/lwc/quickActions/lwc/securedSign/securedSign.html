<template>
  <lightning-card title="Document e-Signature" icon-name="utility:signature">
    <template if:true={isLoading}>
      <div class="center">
        <lightning-spinner alternative-text="Preparing..." size="large" variant="brand"></lightning-spinner>
        <p class="muted">Preparing your documentâ€¦</p>
      </div>
    </template>

    <template if:false={isLoading}>
      <template if:false={hasStarted}>
        <div class="slds-p-around_medium slds-align_absolute-center">
          <lightning-button variant="brand" label="Start signing" onclick={handleStart}></lightning-button>
        </div>
      </template>

      <template if:true={hasStarted}>
        <lightning-quick-action-panel header="Document e-Signature" size="large">
          <div class="frame">
            <iframe data-id="host" class="host" src={iframeSrc} title="Secured Signing"></iframe>
          </div>
        </lightning-quick-action-panel>
      </template>
    </template>
  </lightning-card>
</template>
